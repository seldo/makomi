var mkPre = require('../index.js'),
    hb = require('handlebars');

var layout = {
  source: "layouts/default",
  context: {
    "title": "I am the DOM"
  },
  templates: {
    "body": {
      source: "context/dom",
      context: {
        "where": "the DOM"
      }
    }
  }
}

var renderFragment = function(source,context) {
  var template = hb.compile(source);
  return template(context)
}

mkPre.compile(layout,renderFragment,function(renderedView) {
  console.log("View rendered:")
  console.log(renderedView)
})