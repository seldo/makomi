var test = require('tape');

test('generate routing file', function (t) {

    var generator = require('../generator.js');

    t.plan(1);

    var expected = {
        "/": {
            "view": "index.ejs"
        },
        "/users": {
            "view": "users/list.ejs"
        }
    }

    exports.read(routingFile,function(er,routerString) {
        exports.parse(routerString,function(routerObject) {
            exports.generator(routerObject,function(routingFiles) {
                // FIXME: at some point holding all files in memory will become too expensive
                exports.write(routingFiles,outputDir,function() {
                    console.log("Done generatin'!");
                })
            })
        })
    })

});